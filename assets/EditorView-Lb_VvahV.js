import{d as b,a as B,b as S,f as _,l as c,h as o,m as k,t as f,o as l,g as d,n as E,u as i,p as u,k as y,e as $,q as O,x as T,c as m,F as A,w as N,y as R,z as V}from"./index-CMF_CePX.js";import{u as C,I as M,t as g,i as Y,c as F,d as G,f as L,e as q,g as H,h as J,j as K,H as Q,k as W,l as X,b as Z,o as ee}from"./Header-ZV7lvmHH.js";import{g as te,q as se,r as oe,u as re,l as ae,v as ne,P as ie,m as le,b as ue,n as ce,d as de,C as h}from"./util-BCUUeTU2.js";import{P as pe,_ as me,a as fe}from"./PanePreview-DM73geny.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./xterm-CbIsyoms.js";/* empty css                                                                  */const be={key:0,class:"owner-plate"},_e=["src"],je={class:"creator-name"},ve=b({__name:"OwnerPlate",props:{p:{}},setup(p){const e=p,n=B();return S(async()=>{let t=e.p.meta.owner;t&&te.emit("get-user-simple",t,s=>{if(s==null||typeof s=="number"){console.warn("There was an issue trying to get project owner's info",s);return}n.value=s})}),(t,s)=>t.p.meta&&n.value?(l(),_("div",be,[o("img",{class:"icon",src:n.value.picture,alt:"",referrerpolicy:"no-referrer",crossorigin:"anonymous"},null,8,_e),o("div",null,[s[0]||(s[0]=o("span",null,"Created by",-1)),s[1]||(s[1]=k()),o("span",je,f(n.value.name),1)])])):c("",!0)}}),we=x(ve,[["__scopeId","data-v-aeaf6f14"]]),Pe=b({__name:"StarProject",setup(p){const e=C();async function n(){let t=e.project.meta;t&&(t.starred?await oe(t.pid,t.owner)&&(t.starred=!1,g()):await se(t.pid,t.owner)&&(t.starred=!0,g()),console.log(e.project?.meta?.starred))}return(t,s)=>(l(),_("div",{class:"cont",onClick:n,style:{padding:"5px"}},[d(M,{fill:i(e).project?.meta?.starred,class:E({filled:i(e).project?.meta?.starred,"icon-div":!0})},{default:u(()=>s[0]||(s[0]=[k("star")])),_:1,__:[0]},8,["fill","class"])]))}}),ye=x(Pe,[["__scopeId","data-v-6e7266e5"]]),ge={class:"material-symbols-outlined"},he={class:"flx-v main main-editor"},Se={class:"flx-h center-cont"},Be=b({__name:"EditorView",setup(p){const e=C(),n=re();V();const t=y("pane-preview");function s(){return e.project!=null&&e.project?.meta?.cid!=null&&e.project?.isOwner}function D(){let a=e.project;a&&(a.meta.submitted?new h("Remove submission","Are you sure you'd like to un-submit your challenge?<br><br> You'll have to re-submit in order for it to appear in the submissions page.",()=>{X(a.pid)},()=>{}).load():new h("Submit Challenge","Are you sure you want to submit your code?<br><br> You will have to un-submit it to make any changes in the future.<br><br><span class='note'>Submitted projects are publically viewable by anyone.</span>",()=>{W(a.meta.cid,a.pid)},()=>{}).load())}y("b-publish"),S(async()=>{ae("/styles/editor.css"),ne(ie.editor),Y(),await F(),G(),window.TESTEDITOR={menusOpen:()=>le,p:()=>e.project,findByPath:L}}),$(()=>{ue(),q(),H(),J(),ce(),de(),t.value?.unload(),e.$reset()});function I(){new Z().load()}O((a,r,v)=>{let U=r.params.pid,z=r.params.uid,w=a.params.pid,P=a.params.uid;if(U==w&&z==P){v();return}v(),setTimeout(()=>{ee(w,P)},100)}),window.saveProject=K;const j=T(()=>e.project?.meta&&e.project.meta.owner!=n.g_user.data.uid);return(a,r)=>(l(),_(A,null,[d(Q,{"page-id":"editor","btn-index":2,"no-logo":!0},{actions:u(()=>[d(me),d(fe),j.value?(l(),m(ye,{key:0,p:i(e).project},null,8,["p"])):c("",!0),j.value?(l(),m(we,{key:1,p:i(e).project},null,8,["p"])):c("",!0)]),"home-btn":u(()=>[o("button",{onClick:I,class:"b-editor-dashboard icon-btn no-bg co-item","co-label":"Your Projects"},r[0]||(r[0]=[o("div",{class:"material-symbols-outlined"},"list",-1),o("div",null,"Your Projects",-1)]))]),actions2:u(()=>[N(o("button",{class:"b-publish",onClick:D,ref:"b-publish"},[o("div",ge,f(i(e).project?.isPublished()?"cloud_done":"cloud_upload"),1),o("div",null,f(i(e).project?.isPublished()?"Submitted":"Submit"),1)],512),[[R,s()]])]),"current-project":u(()=>r[1]||(r[1]=[o("div",{class:"d-current-project","default-text":"[No Project Loaded]"},"[No Project Loaded]",-1)])),_:1}),o("div",he,[o("div",Se,[r[2]||(r[2]=o("div",{class:"pane-files pane resize",resize:"r"},null,-1)),r[3]||(r[3]=o("div",{class:"pane-code pane flx-v resize",resize:"r"},null,-1)),i(e).project?(l(),m(pe,{key:0,project:i(e).project,ref:"pane-preview"},null,8,["project"])):c("",!0)])])],64))}});export{Be as default};
